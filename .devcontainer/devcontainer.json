{
    "name": "Minecraft RTX Shader Development",
    "build": {
        "dockerfile": "Dockerfile",
        "context": "..",
        "args": {
            "DXC_VERSION": "1.8.2505.1",
            "LAZURITE_VERSION": "0.7.0",
            "PYTHON_VERSION": "3.12"
        }
    },
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/github-cli:1": {}
    },
    "containerEnv": {
        "DXC_PATH": "/opt/dxc/bin/x64/dxc",
        "SHADERC_PATH": "/usr/local/bin/shaderc",
        "VANILLA_VERSION": "v23",
        "LAZURITE_VERSION": "0.7.0",
        "DXC_VERSION": "1.8.2505.1"
    },
    "postCreateCommand": "pip install --upgrade lazurite==${LAZURITE_VERSION} && echo 'Environment ready. Run build with: lazurite build project/ -o build/ --shaderc $SHADERC_PATH --dxc $DXC_PATH'",
    "postStartCommand": "echo '=== OpenRTX Shader Dev Environment ===' && python3 --version && echo \"Lazurite: $(pip show lazurite | grep Version)\" && echo \"DXC: $DXC_PATH\" && echo \"Shaderc: $SHADERC_PATH\"",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "slevesque.shader",
                "timonwong.shellcheck",
                "redhat.vscode-yaml",
                "ms-vscode.cpptools"
            ],
            "settings": {
                "files.associations": {
                    "*.hlsl": "hlsl",
                    "*.hlsli": "hlsl",
                    "*.fxh": "hlsl"
                },
                "editor.tabSize": 4,
                "editor.insertSpaces": true,
                "files.trimTrailingWhitespace": true
            }
        },
        "codespaces": {
            "openFiles": [
                "README.md",
                "template/RTXStub/shaders/Include/Settings.hlsl"
            ]
        }
    },
    "mounts": [
        "source=${localWorkspaceFolder}/vanilla,target=/workspaces/mcrtx-shader-template/vanilla,type=bind,consistency=cached"
    ],
    "forwardPorts": [],
    "remoteUser": "root"
}
